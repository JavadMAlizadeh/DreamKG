2025-07-24 15:49:06,688 - Neo4jApp - INFO - Initializing Neo4j Application...
2025-07-24 15:49:06,739 - Neo4jApp - INFO - Groq client initialized successfully.
2025-07-24 15:49:06,739 - Neo4jApp - INFO - Looking for keywords file at: /Users/javad/Documents/MEGA/Workspace/VisualStudio/DreamKG/keywords.txt
2025-07-24 15:49:06,782 - Neo4jApp - INFO - QueryProcessor initialized successfully.
2025-07-24 15:49:07,505 - Neo4jApp - INFO - Neo4j driver initialized and connection verified. 

2025-07-24 15:49:12,956 - Neo4jApp - INFO - ================== New Streamlit Request: 'A library which is open on Sunday?

' ==================

2025-07-24 15:49:13,878 - Neo4jApp - INFO - INPUT to Neo4j Executor (Cypher Query):

MATCH (org:Organization)

// To use a filter, remove the '//' from the start of the line and edit the value.
WHERE 1=1 // This dummy condition lets you safely uncomment any AND line below.

  // -- Filters on Organization Properties --
  // AND toLower(TRIM(replace(org.name, '\u00A0', ' '))) CONTAINS toLower('YOUR_NAME_HERE')
  // AND toLower(TRIM(replace(org.phone, '\u00A0', ' '))) CONTAINS toLower('YOUR_PHONE_HERE')
  // AND toLower(TRIM(replace(org.status, '\u00A0', ' '))) CONTAINS toLower('YOUR_STATUS_HERE')

  // -- Filters on Location Properties --
  // AND EXISTS{(org)-[:HAS_LOCATION]->(l:Location WHERE YOUR_LOCATION_CONDITION_HERE)}

  // -- Filters on Service Properties --
  // AND EXISTS{(org)-[:PROVIDES]->(s:Service WHERE toLower(TRIM(s.name)) CONTAINS toLower('YOUR_SERVICE_NAME_HERE'))}
  // AND EXISTS{(org)-[:PROVIDES]->(s:Service WHERE toLower(TRIM(s.type)) CONTAINS toLower('YOUR_SERVICE_TYPE_HERE'))}

  // -- Filters on Time Properties --
  AND EXISTS{(org)-[:HAS_HOURS]->(t:Time WHERE toLower(TRIM(t.day)) CONTAINS toLower('Sunday'))}
  // AND EXISTS{(org)-[:HAS_HOURS]->(t:Time WHERE toLower(TRIM(t.hours)) CONTAINS toLower('YOUR_TIME_HOURS_HERE'))}

// The RETURN clause remains the same to prevent data repetition.
RETURN org,
       [(org)-[:HAS_LOCATION]->(loc) | loc] AS locations,
       [(org)-[:PROVIDES]->(svc) | svc] AS services,
       [(org)-[:HAS_HOURS]->(tm) | tm] AS operatingHours

2025-07-24 15:49:14,064 - Neo4jApp - INFO - OUTPUT from Neo4j Executor (1 records found in 0.19s):
[
  {
    "org": {
      "phone": "(215) 685-9799",
      "name": "Widener Library",
      "status": "Open"
    },
    "locations": [
      {
        "zipCode": "19132",
        "streetAddress": "2808 West Lehigh Avenue",
        "city": "Philadelphia",
        "state": "PA"
      }
    ],
    "services": [
      {
        "name": "Wi-Fi.",
        "type": "Free"
      },
      {
        "name": "Printing",
        "type": "Paid"
      },
      {
        "name": "Copying",
        "type": "Paid"
      },
      {
        "name": "Public Computers",
        "type": "Free"
      }
    ],
    "operatingHours": [
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Monday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Thursday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Friday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Saturday"
      },
      {
        "hours": "10:30 AM - 4:30 PM",
        "day": "Sunday"
      }
    ]
  }
]
2025-07-24 15:49:14,064 - Neo4jApp - INFO - INPUT to Polishing LLM (Original Query): 'A library which is open on Sunday?

'
2025-07-24 15:49:14,064 - Neo4jApp - INFO - INPUT to Polishing LLM (Neo4j Results):
[
  {
    "org": {
      "phone": "(215) 685-9799",
      "name": "Widener Library",
      "status": "Open"
    },
    "locations": [
      {
        "zipCode": "19132",
        "streetAddress": "2808 West Lehigh Avenue",
        "city": "Philadelphia",
        "state": "PA"
      }
    ],
    "services": [
      {
        "name": "Wi-Fi.",
        "type": "Free"
      },
      {
        "name": "Printing",
        "type": "Paid"
      },
      {
        "name": "Copying",
        "type": "Paid"
      },
      {
        "name": "Public Computers",
        "type": "Free"
      }
    ],
    "operatingHours": [
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Monday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Thursday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Friday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Saturday"
      },
      {
        "hours": "10:30 AM - 4:30 PM",
        "day": "Sunday"
      }
    ]
  }
]
2025-07-24 15:49:14,645 - Neo4jApp - INFO - OUTPUT from Polishing LLM (took 0.58s | Prompt: 738, Completion: 89, Total: 827 tokens):
Here is the polished and factually accurate response:

The Widener Library, located at 2808 West Lehigh Avenue, Philadelphia, PA 19132, is open on Sundays from 10:30 AM to 4:30 PM. This library offers free Wi-Fi and public computer access. Additionally, they provide paid services such as printing and copying. You can reach them by phone at (215) 685-9799.
2025-07-24 15:49:14,645 - Neo4jApp - INFO - --- Finished Processing Streamlit Request for: 'A library which is open on Sunday?

' --- 

2025-07-24 15:59:42,051 - Neo4jApp - INFO - ================== New Streamlit Request: 'A library which is open on Sunday?

' ==================

2025-07-24 15:59:42,726 - Neo4jApp - INFO - INPUT to Neo4j Executor (Cypher Query):

MATCH (org:Organization)

// To use a filter, remove the '//' from the start of the line and edit the value.
WHERE 1=1 // This dummy condition lets you safely uncomment any AND line below.

  // -- Filters on Organization Properties --
  // AND toLower(TRIM(replace(org.name, '\u00A0', ' '))) CONTAINS toLower('YOUR_NAME_HERE')
  // AND toLower(TRIM(replace(org.phone, '\u00A0', ' '))) CONTAINS toLower('YOUR_PHONE_HERE')
  // AND toLower(TRIM(replace(org.status, '\u00A0', ' '))) CONTAINS toLower('YOUR_STATUS_HERE')

  // -- Filters on Location Properties --
  // AND EXISTS{(org)-[:HAS_LOCATION]->(l:Location WHERE YOUR_LOCATION_CONDITION_HERE)}

  // -- Filters on Service Properties --
  // AND EXISTS{(org)-[:PROVIDES]->(s:Service WHERE toLower(TRIM(s.name)) CONTAINS toLower('YOUR_SERVICE_NAME_HERE'))}
  // AND EXISTS{(org)-[:PROVIDES]->(s:Service WHERE toLower(TRIM(s.type)) CONTAINS toLower('YOUR_SERVICE_TYPE_HERE'))}

  // -- Filters on Time Properties --
  AND EXISTS{(org)-[:HAS_HOURS]->(t:Time WHERE toLower(TRIM(t.day)) CONTAINS toLower('Sunday'))}
  // AND EXISTS{(org)-[:HAS_HOURS]->(t:Time WHERE toLower(TRIM(t.hours)) CONTAINS toLower('YOUR_TIME_HOURS_HERE'))}

// The RETURN clause remains the same to prevent data repetition.
RETURN org,
       [(org)-[:HAS_LOCATION]->(loc) | loc] AS locations,
       [(org)-[:PROVIDES]->(svc) | svc] AS services,
       [(org)-[:HAS_HOURS]->(tm) | tm] AS operatingHours

2025-07-24 15:59:42,985 - Neo4jApp - INFO - OUTPUT from Neo4j Executor (1 records found in 0.26s):
[
  {
    "org": {
      "phone": "(215) 685-9799",
      "name": "Widener Library",
      "status": "Open"
    },
    "locations": [
      {
        "zipCode": "19132",
        "streetAddress": "2808 West Lehigh Avenue",
        "city": "Philadelphia",
        "state": "PA"
      }
    ],
    "services": [
      {
        "name": "Wi-Fi.",
        "type": "Free"
      },
      {
        "name": "Printing",
        "type": "Paid"
      },
      {
        "name": "Copying",
        "type": "Paid"
      },
      {
        "name": "Public Computers",
        "type": "Free"
      }
    ],
    "operatingHours": [
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Monday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Thursday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Friday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Saturday"
      },
      {
        "hours": "10:30 AM - 4:30 PM",
        "day": "Sunday"
      }
    ]
  }
]
2025-07-24 15:59:42,986 - Neo4jApp - INFO - INPUT to Polishing LLM (Original Query): 'A library which is open on Sunday?

'
2025-07-24 15:59:42,986 - Neo4jApp - INFO - INPUT to Polishing LLM (Neo4j Results):
[
  {
    "org": {
      "phone": "(215) 685-9799",
      "name": "Widener Library",
      "status": "Open"
    },
    "locations": [
      {
        "zipCode": "19132",
        "streetAddress": "2808 West Lehigh Avenue",
        "city": "Philadelphia",
        "state": "PA"
      }
    ],
    "services": [
      {
        "name": "Wi-Fi.",
        "type": "Free"
      },
      {
        "name": "Printing",
        "type": "Paid"
      },
      {
        "name": "Copying",
        "type": "Paid"
      },
      {
        "name": "Public Computers",
        "type": "Free"
      }
    ],
    "operatingHours": [
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Monday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Thursday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Friday"
      },
      {
        "hours": "10:30 AM - 6:00 PM",
        "day": "Saturday"
      },
      {
        "hours": "10:30 AM - 4:30 PM",
        "day": "Sunday"
      }
    ]
  }
]
2025-07-24 15:59:43,613 - Neo4jApp - INFO - OUTPUT from Polishing LLM (took 0.63s | Prompt: 738, Completion: 89, Total: 827 tokens):
Here is the polished and factually accurate response:

The Widener Library, located at 2808 West Lehigh Avenue, Philadelphia, PA 19132, is open on Sundays from 10:30 AM to 4:30 PM. This library offers free Wi-Fi and public computer access. Additionally, they provide paid services such as printing and copying. You can reach them by phone at (215) 685-9799.
2025-07-24 15:59:43,614 - Neo4jApp - INFO - --- Finished Processing Streamlit Request for: 'A library which is open on Sunday?

' --- 

